<?xml version="1.0" encoding="utf-8"?><AnimeName Name="ショット攻撃" ID="45"><Windom_TopScript>


SQUIRREL;

function Run(PNo)
{
  return Act_Shot(PNo);
}

ENDSQUIRREL;

TS_ActionType = AT_SHOT;
'各方向用
'TS_ShotL = 102;
'TS_ShotR = 101;

'武器切り替え
IF(@EqMode ,==, 1);
  @AttackFlag = 1;
  ChangeAnime(68,0,0,1);
  ChangeParts(25,0,TRUE,1,0.1,1);
'  ChangeScript(68,-1,1);
  TSD_ChangeAnime(-100);
  TSD_ChangeScript(-100);
  EXIT;
ENDIF;

'StopShot
IF(@TargetDot ,&lt;, -0.2);
  TSD_ChangeAnime(103);
  TSD_ChangeScript(103);
  TSD_ChangeProc(9);
  @Friction = 0.98;
  EXIT;
ENDIF;

'攻撃
IF(@int[151]  ,==,    0);
  @AttackFlag = 1;
  GetPartsInfo(0);
  IF(@NowActNo ,==, 22); 'BoostShot
    ChangeAnime(106,0,0,    1);
    ChangeParts(26,0,TRUE,1,0.1, 1);
    ChangeScript(106,-1,    1);
    TSD_ChangeAnime(-100);
    TSD_ChangeScript(-100);
    EXIT;
  ELSEIF(@NowActNo ,==, 25); 'HenkeiShot
    ChangeAnime(113,0,0,    1);
    ChangeParts(26,0,TRUE,1,0.1, 1);
    ChangeScript(113,-1,    1);
    TSD_ChangeAnime(-100);
    TSD_ChangeScript(-100);
    EXIT;
  ELSE;  'Normal Shot
    ChangeAnime(100,0,0,    1);
    ChangeParts(26,0,TRUE,1,0.1, 1);
    ChangeScript(100,-1,    1);

'    ChangeAnime(101,0,0,    2);
'    ChangeParts(26,0,TRUE, 1, 0.1, 2);

    TSD_ChangeAnime(-100);
    TSD_ChangeScript(-100);
    EXIT;
  ENDIF;
ENDIF;

 

</Windom_TopScript><ScriptKey Count="9" /><Time Value="0"><ScriptText>


SQUIRREL;

function Run(PNo){
  g_BodyUpData.CalcStart();

  g_RArmData.CalcStart();

  return 0;
}

ENDSQUIRREL;
 

</ScriptText></Time><Time Value="6"><ScriptText>SQUIRREL;

function Run(PNo)
{
	Voice( "Attack", "BR" );
	return 0;
}

ENDSQUIRREL;


'上半身のみ
IF(@int[151]  ,==,    1);
  Voice(Attack);


ENDIF;

 

</ScriptText></Time><Time Value="7"><ScriptText>



 

</ScriptText></Time><Time Value="11"><ScriptText>


SQUIRREL;

function RunSync(PNo){
  if(Weapon_Beam()){

    Robo.GetPartsData(10).ChangeAct(110,0,0,1, // animeNo,pos,dura,CalcType
		TRUE,1,1);  // enable,weight,weightspeed
  }
  //ChangeParts(10,TRUE, 1,0.2);
  return 0;
}

ENDSQUIRREL;
 

</ScriptText></Time><Time Value="12"><ScriptText>



 

</ScriptText></Time><Time Value="26"><ScriptText>


SQUIRREL;

function Run(PNo){
//  g_CalcBodyUpRX.Mode_Stop();
  g_BodyUpData.CalcStop();

//  g_CalcArmRX.Mode_Stop();
//  g_CalcHandR_RY.Mode_Stop();
  g_RArmData.CalcStop();
  return 0;
}

ENDSQUIRREL;
 

</ScriptText></Time><Time Value="31"><ScriptText>



 

</ScriptText></Time><Time Value="33"><ScriptText>


SQUIRREL;

function RunEvery(PNo){
  if(Robo.GetButton(BUTTON.SHOT) == 1){
    if(Robo.GetButtonTime(BUTTON.SHOT) &lt;= 10){
      if(g_ShotData.ShotCnt &lt; 2){
        g_AnimeMgr[PNo].ChangeAnime(-1,0,0);
        g_ShotData.ShotCnt++;
        return 1;
      }
    }
  }

//  local anipos = Robo.GetPartsData(PNo).GetNowAnimePos();
//  print("aaa:" + anipos + "PNo:" + PNo);
  return 0;
}

ENDSQUIRREL;

 

</ScriptText></Time><Time Value="44"><ScriptText>


'上半身のみ
IF(@int[151]  ,==,    1);

@AttackFlag=0;
ChangeParts(-100,0,FALSE,0,0.05,-1);

ENDIF;

SQUIRREL;

function Run(PNo){
//  g_CalcBodyUpRX.Mode_End(5);
  g_BodyUpData.CalcEnd();

//  g_CalcArmRX.Mode_End(0.1);
//  g_CalcHandR_RY.Mode_End(0.1);
  g_RArmData.CalcEnd();
  return 0;
}

ENDSQUIRREL;

 

</ScriptText></Time><BoneData><BoneName Text="Body.x"><RotateKey Count="4" /><Time Value="0"><Rota x="0.1716" y="-0.1827093" z="0.03859151" w="0.9673063" /><CalcType Value="0" /></Time><Time Value="6"><Rota x="0.1977211" y="-0.2082224" z="-0.03511937" w="0.9572442" /><CalcType Value="0" /></Time><Time Value="31"><Rota x="0.1977211" y="-0.2082224" z="-0.03511937" w="0.9572442" /><CalcType Value="0" /></Time><Time Value="44"><Rota x="0.1716" y="-0.1827093" z="0.03859151" w="0.9673063" /><CalcType Value="0" /></Time><ScaleKey Count="1" /><Time Value="0"><Scale x="0.9999994" y="0.9999997" z="0.9999993" /><CalcType Value="0" /></Time><PosKey Count="4" /><Time Value="0"><Pos x="0" y="-0.0007878406" z="0" /><CalcType Value="0" /></Time><Time Value="6"><Pos x="0" y="-0.0007878406" z="0" /><CalcType Value="0" /></Time><Time Value="31"><Pos x="0" y="-0.0007878406" z="0" /><CalcType Value="0" /></Time><Time Value="44"><Pos x="0" y="-0.0007878406" z="0" /><CalcType Value="0" /></Time></BoneName><BoneName Text="arm_rotation_r.x"><RotateKey Count="4" /><Time Value="0"><Rota x="-0.1716211" y="0.200723" z="-0.03664365" w="0.9638017" /><CalcType Value="0" /></Time><Time Value="6"><Rota x="-0.1978073" y="0.229701" z="0.03594239" w="0.9522699" /><CalcType Value="0" /></Time><Time Value="31"><Rota x="-0.1978073" y="0.229701" z="0.03594239" w="0.9522699" /><CalcType Value="0" /></Time><Time Value="44"><Rota x="-0.1716213" y="0.2007229" z="-0.0366437" w="0.9638017" /><CalcType Value="0" /></Time><ScaleKey Count="1" /><Time Value="0"><Scale x="1" y="1" z="1" /><CalcType Value="0" /></Time><PosKey Count="4" /><Time Value="0"><Pos x="0.1762796" y="0.2242762" z="-0.04467139" /><CalcType Value="0" /></Time><Time Value="6"><Pos x="0.1762796" y="0.2242762" z="-0.04467139" /><CalcType Value="0" /></Time><Time Value="31"><Pos x="0.1762796" y="0.2242762" z="-0.04467139" /><CalcType Value="0" /></Time><Time Value="44"><Pos x="0.1762796" y="0.2242762" z="-0.04467139" /><CalcType Value="0" /></Time></BoneName><BoneName Text="arm1_1_r.x"><RotateKey Count="4" /><Time Value="0"><Rota x="-0.2214706" y="-0.09689448" z="0.2179675" w="0.9455435" /><CalcType Value="0" /></Time><Time Value="6"><Rota x="-0.5103728" y="-0.2041161" z="0.1018052" w="0.8291514" /><CalcType Value="0" /></Time><Time Value="31"><Rota x="-0.5103728" y="-0.2041161" z="0.1018052" w="0.8291514" /><CalcType Value="0" /></Time><Time Value="44"><Rota x="-0.2214711" y="-0.09689417" z="0.217968" w="0.9455432" /><CalcType Value="0" /></Time><ScaleKey Count="1" /><Time Value="0"><Scale x="0.9999927" y="0.9999858" z="0.9999854" /><CalcType Value="0" /></Time><PosKey Count="4" /><Time Value="0"><Pos x="0" y="0" z="0" /><CalcType Value="0" /></Time><Time Value="6"><Pos x="0" y="0" z="0" /><CalcType Value="0" /></Time><Time Value="31"><Pos x="0" y="0" z="0" /><CalcType Value="0" /></Time><Time Value="44"><Pos x="0" y="0" z="0" /><CalcType Value="0" /></Time></BoneName><BoneName Text="kata_r.x"><RotateKey Count="4" /><Time Value="0"><Rota x="0" y="0" z="-0.1736482" w="0.9848077" /><CalcType Value="0" /></Time><Time Value="6"><Rota x="0" y="0" z="-0.1736482" w="0.9848077" /><CalcType Value="0" /></Time><Time Value="31"><Rota x="0" y="0" z="-0.1736482" w="0.9848077" /><CalcType Value="0" /></Time><Time Value="44"><Rota x="0" y="0" z="-0.1736482" w="0.9848077" /><CalcType Value="0" /></Time><ScaleKey Count="1" /><Time Value="0"><Scale x="1" y="1" z="1" /><CalcType Value="0" /></Time><PosKey Count="4" /><Time Value="0"><Pos x="0.0345449" y="-0.007214194" z="-0.001344743" /><CalcType Value="0" /></Time><Time Value="6"><Pos x="0.0345449" y="-0.007214194" z="-0.001344743" /><CalcType Value="0" /></Time><Time Value="31"><Pos x="0.0345449" y="-0.007214194" z="-0.001344743" /><CalcType Value="0" /></Time><Time Value="44"><Pos x="0.0345449" y="-0.007214194" z="-0.001344743" /><CalcType Value="0" /></Time></BoneName><BoneName Text="Output08.x"><RotateKey Count="4" /><Time Value="0"><Rota x="-0.4999226" y="0.5001322" z="-0.4999581" w="0.4999872" /><CalcType Value="0" /></Time><Time Value="6"><Rota x="-0.4999226" y="0.5001322" z="-0.4999581" w="0.4999872" /><CalcType Value="0" /></Time><Time Value="31"><Rota x="-0.4999226" y="0.5001322" z="-0.4999581" w="0.4999872" /><CalcType Value="0" /></Time><Time Value="44"><Rota x="-0.4999226" y="0.5001322" z="-0.4999581" w="0.4999872" /><CalcType Value="0" /></Time><ScaleKey Count="1" /><Time Value="0"><Scale x="1.000578" y="1.000578" z="1.000578" /><CalcType Value="0" /></Time><PosKey Count="4" /><Time Value="0"><Pos x="0.2042692" y="0.09906642" z="-0.0005772723" /><CalcType Value="0" /></Time><Time Value="6"><Pos x="0.2042692" y="0.09906642" z="-0.0005772723" /><CalcType Value="0" /></Time><Time Value="31"><Pos x="0.2042692" y="0.09906642" z="-0.0005772723" /><CalcType Value="0" /></Time><Time Value="44"><Pos x="0.2042692" y="0.09906642" z="-0.0005772723" /><CalcType Value="0" /></Time></BoneName><BoneName Text="arm1_2_r.x"><RotateKey Count="4" /><Time Value="0"><Rota x="0" y="0" z="0" w="1" /><CalcType Value="0" /></Time><Time Value="6"><Rota x="0" y="0.1822326" z="0" w="0.9832554" /><CalcType Value="0" /></Time><Time Value="31"><Rota x="0" y="0.1822326" z="0" w="0.9832554" /><CalcType Value="0" /></Time><Time Value="44"><Rota x="0" y="0.02617657" z="0" w="0.9996573" /><CalcType Value="0" /></Time><ScaleKey Count="1" /><Time Value="0"><Scale x="1" y="1" z="1" /><CalcType Value="0" /></Time><PosKey Count="1" /><Time Value="0"><Pos x="0.05099998" y="-0.05999999" z="0.0009999998" /><CalcType Value="0" /></Time></BoneName><BoneName Text="arm2_r.x"><RotateKey Count="4" /><Time Value="0"><Rota x="-0.3907251" y="0" z="0" w="0.9205074" /><CalcType Value="0" /></Time><Time Value="6"><Rota x="-0.2249473" y="0" z="0" w="0.974371" /><CalcType Value="0" /></Time><Time Value="31"><Rota x="-0.2249473" y="0" z="0" w="0.974371" /><CalcType Value="0" /></Time><Time Value="44"><Rota x="-0.4999927" y="0" z="0" w="0.8660296" /><CalcType Value="0" /></Time><ScaleKey Count="1" /><Time Value="0"><Scale x="0.999992" y="0.9999895" z="0.9999884" /><CalcType Value="0" /></Time><PosKey Count="4" /><Time Value="0"><Pos x="-0.0004452467" y="-0.1584951" z="0" /><CalcType Value="0" /></Time><Time Value="6"><Pos x="-0.0004452467" y="-0.1584951" z="0" /><CalcType Value="0" /></Time><Time Value="31"><Pos x="-0.0004452467" y="-0.1584951" z="0" /><CalcType Value="0" /></Time><Time Value="44"><Pos x="-0.0004452467" y="-0.1584951" z="0" /><CalcType Value="0" /></Time></BoneName><BoneName Text="Hand_r.x"><RotateKey Count="4" /><Time Value="0"><Rota x="-0.01745156" y="0" z="0" w="0.9998477" /><CalcType Value="0" /></Time><Time Value="6"><Rota x="-0.01745115" y="0" z="0" w="0.9998478" /><CalcType Value="0" /></Time><Time Value="31"><Rota x="-0.01745115" y="0" z="0" w="0.9998478" /><CalcType Value="0" /></Time><Time Value="44"><Rota x="-0.0174515" y="0" z="0" w="0.9998477" /><CalcType Value="0" /></Time><ScaleKey Count="1" /><Time Value="0"><Scale x="1" y="1" z="1" /><CalcType Value="0" /></Time><PosKey Count="4" /><Time Value="0"><Pos x="0" y="-0.2842203" z="0" /><CalcType Value="0" /></Time><Time Value="6"><Pos x="0" y="-0.2842203" z="0" /><CalcType Value="0" /></Time><Time Value="31"><Pos x="0" y="-0.2842203" z="0" /><CalcType Value="0" /></Time><Time Value="44"><Pos x="0" y="-0.2842203" z="0" /><CalcType Value="0" /></Time></BoneName><BoneName Text="gun.x"><RotateKey Count="4" /><Time Value="0"><Rota x="0.008726387" y="0" z="0" w="0.9999619" /><CalcType Value="0" /></Time><Time Value="6"><Rota x="0.008726387" y="0" z="0" w="0.9999619" /><CalcType Value="0" /></Time><Time Value="31"><Rota x="0.008726387" y="0" z="0" w="0.9999619" /><CalcType Value="0" /></Time><Time Value="44"><Rota x="0.008726387" y="0" z="0" w="0.9999619" /><CalcType Value="0" /></Time><ScaleKey Count="1" /><Time Value="0"><Scale x="1" y="1" z="1" /><CalcType Value="0" /></Time><PosKey Count="4" /><Time Value="0"><Pos x="-0.0195671" y="-0.07869908" z="-0.007895427" /><CalcType Value="0" /></Time><Time Value="6"><Pos x="-0.0195671" y="-0.07869908" z="-0.007895427" /><CalcType Value="0" /></Time><Time Value="31"><Pos x="-0.0195671" y="-0.07869908" z="-0.007895427" /><CalcType Value="0" /></Time><Time Value="44"><Pos x="-0.0195671" y="-0.07869908" z="-0.007895427" /><CalcType Value="0" /></Time></BoneName><BoneName Text="Weapon_point.x"><RotateKey Count="4" /><Time Value="0"><Rota x="0.7132509" y="0" z="0" w="0.7009088" /><CalcType Value="0" /></Time><Time Value="6"><Rota x="0.7132509" y="0" z="0" w="0.7009088" /><CalcType Value="0" /></Time><Time Value="31"><Rota x="0.7132509" y="0" z="0" w="0.7009088" /><CalcType Value="0" /></Time><Time Value="44"><Rota x="0.7132509" y="0" z="0" w="0.7009088" /><CalcType Value="0" /></Time><ScaleKey Count="1" /><Time Value="0"><Scale x="1" y="1" z="1" /><CalcType Value="0" /></Time><PosKey Count="4" /><Time Value="0"><Pos x="-0.0005992358" y="-0.8189633" z="0.1489993" /><CalcType Value="0" /></Time><Time Value="6"><Pos x="-0.0005992358" y="-0.8189633" z="0.1489993" /><CalcType Value="0" /></Time><Time Value="31"><Pos x="-0.0005992358" y="-0.8189633" z="0.1489993" /><CalcType Value="0" /></Time><Time Value="44"><Pos x="-0.0005992358" y="-0.8189633" z="0.1489993" /><CalcType Value="0" /></Time></BoneName><BoneName Text="katana.x"><RotateKey Count="4" /><Time Value="0"><Rota x="0" y="2.617994E-08" z="0" w="1" /><CalcType Value="0" /></Time><Time Value="6"><Rota x="0" y="2.617994E-08" z="0" w="1" /><CalcType Value="0" /></Time><Time Value="31"><Rota x="0" y="2.617994E-08" z="0" w="1" /><CalcType Value="0" /></Time><Time Value="44"><Rota x="0" y="2.617994E-08" z="0" w="1" /><CalcType Value="0" /></Time><ScaleKey Count="1" /><Time Value="0"><Scale x="1" y="1" z="1" /><CalcType Value="0" /></Time><PosKey Count="4" /><Time Value="0"><Pos x="-0.02105235" y="-0.05606708" z="-0.101124" /><CalcType Value="0" /></Time><Time Value="6"><Pos x="-0.02105235" y="-0.05606708" z="-0.101124" /><CalcType Value="0" /></Time><Time Value="31"><Pos x="-0.02105235" y="-0.05606708" z="-0.101124" /><CalcType Value="0" /></Time><Time Value="44"><Pos x="-0.02105235" y="-0.05606708" z="-0.101124" /><CalcType Value="0" /></Time></BoneName><BoneName Text="Weapon_point2.x"><RotateKey Count="4" /><Time Value="0"><Rota x="0.008726389" y="0" z="0" w="0.9999619" /><CalcType Value="0" /></Time><Time Value="6"><Rota x="0.008726389" y="0" z="0" w="0.9999619" /><CalcType Value="0" /></Time><Time Value="31"><Rota x="0.008726389" y="0" z="0" w="0.9999619" /><CalcType Value="0" /></Time><Time Value="44"><Rota x="0.008726389" y="0" z="0" w="0.9999619" /><CalcType Value="0" /></Time><ScaleKey Count="1" /><Time Value="0"><Scale x="1" y="1" z="1" /><CalcType Value="0" /></Time><PosKey Count="4" /><Time Value="0"><Pos x="0" y="-0.01542982" z="0.2208525" /><CalcType Value="0" /></Time><Time Value="6"><Pos x="0" y="-0.01542982" z="0.2208525" /><CalcType Value="0" /></Time><Time Value="31"><Pos x="0" y="-0.01542982" z="0.2208525" /><CalcType Value="0" /></Time><Time Value="44"><Pos x="0" y="-0.01542982" z="0.2208525" /><CalcType Value="0" /></Time></BoneName></BoneData></AnimeName>